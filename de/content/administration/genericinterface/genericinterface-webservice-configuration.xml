<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN" "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd">

<section id="genericinterface-webservice-configuration">
    <title>Webservice Konfiguration</title>
    <para>
        From its design the web services were conceived to be portable from one OTRS
system to another, e.g. from a test or development environment to a
production system. Therefore it was needed to have an easy way to extract
the web service configuration from the database, and import it to
another. To accomplish this task the Generic Interface uses YAML files as
the web services configuration basis.
    </para>
    <para>
        Why YAML? YAML is a markup language designed to be human friendly to read
and write (it is easier to understand than JSON), it does not have some of
the limitations of XML like numeric tags, it is open, standardized, and is
complete enough to store the whole web service configuration.
    </para>
    <note>
        <para>
            To learn more about YAML please visit <ulink
url="http://www.yaml.org/">http://www.yaml.org/</ulink>.
        </para>
    </note>
    <para>
        Im folgenden finden Sie eine Webservice-Konfigurationsdatei im YAML-Format:
    </para>
    <para>
        <programlisting><![CDATA[
---
Debugger:
DebugThreshold: debug
Description: This an example of a web service configuration
Provider:
Operation:
CloseIncident:
Description: This is a test operation
MappingInbound: {}
MappingOutbound: {}
RemoteSystemGuid: ''
Type: Test::Test
Test:
Description: This is a test operation
MappingInbound:
Config:
KeyMapDefault:
MapTo: ''
MapType: Keep
KeyMapExact:
Prio: Priority
ValueMap:
Priority:
ValueMapExact:
Critical: 5 Very High
Information: 1 Very Low
Warning: 3 Normal
ValueMapDefault:
MapTo: 3 Normal
MapType: MapTo
Type: Simple
MappingOutbound:
Config:
KeyMapDefault:
MapTo: ''
MapType: Ignore
KeyMapExact:
Priority: Prio
ValueMap:
Prio:
ValueMapExact:
1 Very Low: Information
3 Normal: Warning
5 Very High: Critical
ValueMapDefault:
MapTo: ''
MapType: Ignore
Type: Simple
Type: Test::Test
Transport:
Config:
MaxLength: 10000000
NameSpace: http://www.example.com/actions
Type: HTTP::SOAP
RemoteSystem: remote.system.description.example.com
Requester:
Invoker:
Test:
Description: This is a test invoker
Events:
- Asynchronous: 1
Event: TicketCreate
- Asynchronous: 0
Event: ArticleUpdate
MappingInbound:
Type: Simple
MappingOutbound:
Type: Simple
Type: Test::Test
Transport:
Config:
Authentication:
Password: '*******'
Type: BasicAuth
User: otrs
Encoding: utf-8
Endpoint: http://www.example.com:8080/endpoint
NameSpace: http://www.example.com/actions
SOAPAction: Yes
SOAPActionSeparator: '#'
Type: HTTP::SOAP
            ]]>
        </programlisting>
    </para>
    <section>
        <title>
            Konfigurationsdetails
        </title>
        <section>
            <title>
                Allgemein
            </title>
            <itemizedlist mark="round">
                <listitem>
                    <para>
                        Beschreibung: ein kurzer Text, der den Webservice beschreibt.
                    </para>
                </listitem>
                <listitem>
                    <para>
                        RemoteSystem: eine kurze Beschreibung des Remote-Systems.
                    </para>
                </listitem>
                <listitem>
                    <para>
                        Debugger: ein Behälter für die Debugger-Einstellungen.
                    </para>
                </listitem>
                <listitem>
                    <para>
                        Provider: ein Behälter für die Anbieter-Einstellungen.
                    </para>
                </listitem>
                <listitem>
                    <para>
                        Requester: ein Behälter für die Anforderer-Einstellungen.
                    </para>
                </listitem>
            </itemizedlist>
        </section>

        <section>
            <title>
                Debugger
            </title>
            <itemizedlist mark="round">
                <listitem>
                    <para>
                        DebugThreshold: the debugger level.
                    </para>
                    <itemizedlist mark="round">
                        <title>
                            mögliche Werte
                        </title>
                        <listitem>
                            <para>
                                debug: alle Protokolle werden in der Datenbank gespeichert.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                info: info, notice und error level - Protokolle werden in der Datenbank
gespeichert.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                notice: notice und error level - Protokolle werden in der Datenbank
gespeichert.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                error: nur error level - Protokolle werden in der Datenbank gespeichert.
                            </para>
                        </listitem>

                    </itemizedlist>
                </listitem>
            </itemizedlist>
        </section>

        <section>
            <title>Provider</title>
            <itemizedlist mark="round">
                <listitem>
                    <para>
                        Operation: ein Behälter für alle Operations-Einstellungen.
                    </para>
                </listitem>
                <listitem>
                    <para>
                        Transport: ein Behälter für Provider-Netzwerk-Transport-Einstellungen.
                    </para>
                </listitem>
            </itemizedlist>
            <section>
                <title>Operation</title>
                <itemizedlist mark="round">
                    <listitem>
                        <para>
                            &lt;OperationName&gt;: eindeutiger Name für die Operation, eigener Container
für eigene Operationseinstellungen (Kardinalität 0 ..n, aber nicht
mehrfach).
                        </para>
                    </listitem>
                </itemizedlist>
                <section>
                    <title>&lt;Operationsname&gt;</title>
                    <para>
                        Dieser Abschnitt basiert auf Operationen vom Typ "Test::Test" andere
Operationen können unterschiedliche Einstellungen beinhalten.
                    </para>
                    <itemizedlist mark="round">
                        <listitem>
                            <para>
                                Beschreibung: ein kurzer Text, der die Operation beschreibt.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                MappingInbound: Ein Container für die Mapping-Einstellung für eingehende
Anfragen.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                MappingOutbound: Ein Container für die Mapping-Einstellung für ausgehende
Anfragen.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Type: Das Operation-Backend, im Format Controller::Operation.
                            </para>
                        </listitem>
                    </itemizedlist>
                    <section>
                        <title>eingehendes Mapping</title>
                        <para>
                            Dieser Abschnitt basiert auf Mappings vom Typ "Simple". Andere Mappings
können eventuell mehr oder andere Einstellungen beinhalten.
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    Config: Ein Container für diese Mapping-Einstellungen.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Type: Das Mapping-Backend.
                                </para>
                            </listitem>

                        </itemizedlist>
                            <section>
                                <title>Konfiguration</title>
                                <itemizedlist mark="round">
                                    <listitem>
                                        <para>
                                            KeyMapDefault: Ein Container für alle nicht gemappten Key-Einstellungen.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            ValueMapDefault: Ein Container für alle nicht gemappten Wert-Einstellungen.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            KeyMapExact: Ein Container für alle exakten Key-Mappings (Kardinalität 0
.. 1).
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            KeyMapRegEx: Ein Container für alle regulären Regular Expression
Key-Mappings (Kardinalität 0 .. 1).
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            ValueMap: Ein Contanier für alle Werte-Mappings (Kardinalität 0 .. 1).
                                        </para>
                                    </listitem>
                                </itemizedlist>
                                <section>
                                    <title>
                                        KeyMapDefault
                                    </title>
                                    <itemizedlist mark="round">
                                        <listitem>
                                            <para>
                                                MapTo: Der neue Wert welcher benutzt werden soll (nur anwendbar wenn der
MapType auf MapTo gesetzt ist).
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                MapType: Die Regel für das Mapping.
                                            </para>
                                            <itemizedlist>
                                                <title>mögliche Werte</title>
                                                <listitem>
                                                    <para>
                                                        Keep: unverändert lassen.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        Ignore: verwerfen.
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        MapTo: Ändern auf den MapTo-Wert.
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </listitem>
                                    </itemizedlist>
                                </section>
                                <section>
                                    <title>
                                        ValueMapDefault
                                    </title>
                                    <para>
                                        Ähnlich zu KeyMapDefault.
                                    </para>
                                </section>
                                <section>
                                    <title>
                                        KeyMapExact
                                    </title>
                                    <itemizedlist mark="round">
                                        <listitem>
                                            <para>
                                                &lt;alterKey&gt;: &lt;neuerKey&gt; (Kardinalität 0 .. n aber nicht
mehrfach).
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </section>
                                <section>
                                    <title>
                                        KeyMapRegEx
                                    </title>
                                    <itemizedlist mark="round">
                                        <listitem>
                                            <para>
                                                &lt;oldkey(RegEx)&gt;: &lt;newkey&gt; ( Kardinalität 0 .. n, aber nicht
mehrfach).
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </section>
                                <section>
                                    <title>
                                        ValueMap
                                    </title>
                                    <itemizedlist mark="round">
                                        <listitem>
                                            <para>
                                                &lt;newkey&gt;: Ein Container für das Werte-Mapping für diesen neuen Key
(Kardinalität hängt von den neuen Keys aus KeyMapExact und KeyMapRegEx ab).
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                    <section>
                                        <title>
                                            &lt;newkey&gt;
                                        </title>
                                        <itemizedlist mark="round">
                                            <listitem>
                                                <para>
                                                    ValueMapExact: Ein Container für alle exakten Werte-Mappings (Kardinalität 0
.. 1).
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    ValueMapRegEx: Ein Container für alle Regular Expression Werte-Mappings
(Kardinalität 0 .. 1).
                                                </para>
                                            </listitem>
                                        </itemizedlist>
                                        <section>
                                            <title>
                                                ValueMapExact
                                            </title>
                                            <itemizedlist mark="round">
                                                <listitem>
                                                    <para>
                                                        &lt;oldvalue&gt;: &lt;newvalue&gt; ( Kardinalität 0 .. n, aber nicht
mehrfach).
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </section>
                                        <section>
                                            <title>
                                                ValueMapRegEx
                                            </title>
                                            <itemizedlist mark="round">
                                                <listitem>
                                                    <para>
                                                        &lt;oldvalue(RegEx)&gt;: &lt;newvalue&gt; (Kardinalität 0 .. n, aber nicht
mehrfach).
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </section>
                                    </section>
                                </section>
                            </section>
                    </section>
                    <section>
                        <title>ausgehendes Mapping</title>
                        <para>
                            Das gleiche wie beim eingehenden Mapping
                        </para>
                    </section>
                    <section>
                        <title>Transport</title>
                        <para>
                            Dieser Abschnitt basiert auf Provider-Übertragungsart HTTP::SOAP, andere
Übertragungsarten können unterschiedliche Einstellungen beinhalten.
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    Config: Ein Container für die spezifischen Netzwerk-Transport-Einstellungen.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Type: Netzwerk-Transport-Backend des Providers.
                                </para>
                            </listitem>
                        </itemizedlist>
                        <section>
                            <title>Konfiguration</title>
                            <itemizedlist mark="round">
                                <listitem>
                                    <para>
                                        MaxLength: Die maximale Länge in Bytes die in SOAP-Nachrichten von OTRS
gelesen werden.
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        NameSpace: eine URI die eine Zusammenfassung aller möglichen Operationen
liefert, die zu diesem Webservice gehören.
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </section>
                    </section>
                </section>
            </section>
        </section>

        <section>
            <title>Requester</title>
            <itemizedlist mark="round">
                <listitem>
                    <para>
                        Invoker: ein Container für jede 'Invoker'-Einstellung.
                    </para>
                </listitem>
                <listitem>
                    <para>
                        Transport: ein Container für Netzwerk-Transport-Einstellungen für Requester.
                    </para>
                </listitem>
            </itemizedlist>
            <section>
                <title>Invoker</title>
                <itemizedlist mark="round">
                    <listitem>
                        <para>
                            &lt;InvokerName&gt;: eindeutiger Name für den Invoker, Container für eigene
Invoker-Einstellungen (Kardinalität 0..n, aber nicht mehrfach).
                        </para>
                    </listitem>
                </itemizedlist>
                <section>
                    <title>&lt;InvokerName&gt;</title>
                    <para>
                        Dieser Abschnitt basiert auf Invoker vom Typ "Test::Test" andere Operationen
können unterschiedliche Einstellungen beinhalten.
                    </para>
                    <itemizedlist mark="round">
                        <listitem>
                            <para>
                                Description: a short text that describes the invoker.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Events: ein Container für Eventtrigger-Einstellungen, die keinen Namen
besitzen.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                MappingInbound: Ein Container für die Mapping-Einstellung für eingehende
Anfragen.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                MappingOutbound: Ein Container für die Mapping-Einstellung für ausgehende
Anfragen.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                Type: Das Invoker-Backend, im Format Controller::Invoker
                            </para>
                        </listitem>
                    </itemizedlist>
                    <section>
                        <title>Ereignisse</title>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    <remark>List Element</remark>: (cardinality 0 .. n).
                                </para>
                                <itemizedlist mark="round">
                                    <listitem>
                                        <para>
                                            Asynchronous: to set if the invoker execution will be delegated to the OTRS
Daemon.
                                        </para>
                                        <itemizedlist mark="round">
                                            <title>mögliche Werte</title>
                                            <listitem>
                                                <para>
                                                    0: not handled by the OTRS Daemon.
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    1: handled by the OTRS Daemon.
                                                </para>
                                            </listitem>
                                        </itemizedlist>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            Event: Der Name des Event-Triggers.
                                        </para>
                                        <itemizedlist>
                                            <title>Mögliche Werte (für TicketEvents)</title>
                                            <listitem>
                                                <para>
                                                    TicketCreate
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    TicketDelete
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    TicketTitleUpdate
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    TicketUnlockTimeoutUpdate
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    TicketQueueUpdate
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    TicketTypeUpdate
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    TicketServiceUpdate
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    TicketSLAUpdate
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    TicketCustomerUpdate
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    TicketFreeTextUpdate
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    TicketFreeTimeUpdate
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    TicketPendingTimeUpdate
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    TicketLockUpdate
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    TicketArchiveFlagUpdate
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    TicketStateUpdate
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    TicketOwnerUpdate
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    TicketResponsibleUpdate
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    TicketPriorityUpdate
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    HistoryAdd
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    HistoryDelete
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    TicketAccountTime
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    TicketMerge
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    TicketSubscribe
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    TicketUnsubscribe
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    TicketFlagSet
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    TicketFlagDelete
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    TicketSlaveLinkAdd
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    TicketSlaveLinkDelete
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    TicketMasterLinkDelete
                                                </para>
                                            </listitem>
                                        </itemizedlist>
                                        <itemizedlist>
                                            <title>Mögliche Werte (für Artikel-Events)</title>
                                            <listitem>
                                                <para>
                                                    ArticleCreate
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    ArticleFreeTextUpdate
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    ArticleUpdate
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    ArticleSend
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    ArticleBounce
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    ArticleAgentNotification
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    ArticleCustomerNotification
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    ArticleAutoResponse
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    ArticleFlagSet
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    ArticleFlagDelete
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    ArticleAgentNotification
                                                </para>
                                            </listitem>
                                            <listitem>
                                                <para>
                                                    ArticleCustomerNotification
                                                </para>
                                            </listitem>
                                        </itemizedlist>
                                    </listitem>
                                </itemizedlist>
                            </listitem>
                        </itemizedlist>
                    </section>
                    <section>
                        <title>eingehendes Mapping</title>
                        <para>
                            Das gleiche wie bei der Operation MappingInbound
                        </para>
                    </section>
                    <section>
                        <title>ausgehendes Mapping</title>
                        <para>
                            Das gleiche wie bei der Operation MappingInbound
                        </para>
                    </section>
                    <section>
                        <title>Transport</title>
                        <para>
                            Dieser Abschnitt basiert auf Requester-Übertragungsart HTTP::SOAP, andere
Übertragungsarten können unterschiedliche Einstellungen beinhalten.
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    Config: Ein Container für die spezifischen Netzwerk-Transport-Einstellungen.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    Type: Netzwerk-Transport-Backend des Requesters.
                                </para>
                            </listitem>
                        </itemizedlist>
                        <section>
                            <title>Konfiguration</title>
                            <itemizedlist mark="round">
                                <listitem>
                                    <para>
                                        Authentifizierung: ein Behälter für die Authentifizierungs-Einstellungen.
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        Encoding: the SOAP Message request encoding.
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        Endpoint: the URI of the Remote Server web service to accept OTRS requests.
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        NameSpace: an URI that gives a context to all invokers that belongs to this
web service.
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        SOAPAction: to send an empty or filled SOAPAction header in the SOAP Message
(in "&lt;NameSpace&gt; &lt;Separator&gt; &lt;Action&gt;" format).
                                    </para>
                                    <itemizedlist mark="round">
                                        <title>mögliche Werte</title>
                                        <listitem>
                                            <para>
                                                Yes: to send a filled SOAPAction header.
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                Nein: um einen leeren SOAPAction-Header zu senden.
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </listitem>
                                <listitem>
                                    <para>
                                        SOAPActionSeparator: Für das setzen eines &lt;Separator&gt; eines SOAPAction
Headers.
                                    </para>
                                    <itemizedlist mark="round">
                                        <title>mögliche Werte</title>
                                        <listitem>
                                            <para>
                                                '/': genutzt für .net-Webservices.
                                            </para>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                '#': genutzt für alle anderen Webservices.
                                            </para>
                                        </listitem>
                                    </itemizedlist>
                                </listitem>
                            </itemizedlist>
                            <section>
                                <title>Authentifizierung</title>
                                <itemizedlist mark="round">
                                    <listitem>
                                        <para>
                                            User: der vertrauliche Benutzername, der Zugang zu dem entfernten Webservice
hat.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            Passwort: das Passwort für den vertraulichen Benutzer im Klartext.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            Type: der Typ der Authentifizierung.
                                        </para>
                                    </listitem>
                                </itemizedlist>
                            </section>
                        </section>
                    </section>
                </section>
            </section>
        </section>

    </section>
</section>
